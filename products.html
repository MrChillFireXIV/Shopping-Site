<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Products - Shopping Site</title>
    <link rel="stylesheet" href="products.css">
</head>
<body>
    <div class="header">
        <div class="container">
            <div class="navbar">
                <div class="logo">
                    <img src="images/logo.png" width="85px">
                </div>
                <nav>
                    <ul>
                        <li><a href="index.html">Home</a></li>
                        <li><a href="products.html">Products</a></li>
                        <li><a href="about-us.html">About</a></li>
                        <li><a href="contact.html">Contact</a></li>
                        <li><a href="user-account.html">Account</a></li>
                    </ul>
                </nav>
                <a href="cart.html">
                    <img src="images/cart.png" width="50px" height="50px" >
                </a>
            </div>
        </div>
    </div>
    
    <div class="small-container">
          
        <div class="row row-2">
            <h2>All Products</h2>
            <input type="text" id="search-input" placeholder="Search products..." />
            <select id="sort-select">
                <option value="default">Default Sorting</option>
                <option value="price">Sort by Price</option>
                <option value="popularity">Sort by Popularity</option>
                <option value="alphabet">Sort by Alphabet</option>
            </select>
        </div>
        <div class="row">
            <a href="product-details.html">
                <div class="col-4">
                    <img src="images/bread.png">
                    <h4>Loaf of Bread</h4>
                    <p>$6.99</p>
                </div>
            </a>
            <a href="product-details.html">
                <div class="col-4">
                    <img src="images/shoes.png">
                    <h4>Tennis Shoes</h4>
                    <p>$42.99</p>
                </div>
            </a>
            <a href="product-details.html">
                <div class="col-4">
                    <img src="images/switch.png">
                    <h4>Nintendo Switch</h4>
                    <p>$299.99</p>
                </div>
            </a>
            <a href="product-details.html">
                <div class="col-4">
                    <img src="images/toothpaste.png">
                    <h4>Colgate Toothpaste</h4>
                    <p>$4.99</p>
                </div>
            </a>
        </div>
        <div class="row">
            <a href="product-details.html">
                <div class="col-4">
                    <img src="images/headphones.png">
                    <h4>Headphones</h4>
                    <p>$26.99</p>
                </div>
            </a>
            <a href="product-details.html">
                <div class="col-4">
                    <img src="images/kitkat.png">
                    <h4>Kit-Kat Bar</h4>
                    <p>$2.99</p>
                </div>
            </a>
            <a href="product-details.html">
                <div class="col-4">
                    <img src="images/rollerblades.png">
                    <h4>Roller Blades</h4>
                    <p>$19.99</p>
                </div>
            </a>
            <a href="product-details.html">
                <div class="col-4">
                    <img src="images/shirt.png">
                    <h4>Blue Shirt</h4>
                    <p>$14.99</p>
                </div>
            </a>
        </div>
        <div class="row">
            <a href="product-details.html">
                <div class="col-4">
                    <img src="images/cube.png">
                    <h4>Rubik's Cube</h4>
                    <p>$8.99</p>
                </div>
            </a>
            <a href="product-details.html">
                <div class="col-4">
                    <img src="images/phone.png">
                    <h4>Smart Phone</h4>
                    <p>$449.99</p>
                </div>
            </a>
            <a href="product-details.html">
                <div class="col-4">
                    <img src="images/sword.png">
                    <h4>Light Up Sword</h4>
                    <p>$9.99</p>
                </div>
            </a>
            <a href="product-details.html">
                <div class="col-4">
                    <img src="images/tv.png" >
                    <h4>Smart TV</h4>
                    <p>$244.99</p>
                </div>
            </a>
        </div>
        <div class="page-btn" id="pagination">
            <span data-page="1">1</span>
            <span data-page="2">2</span>
            <span data-page="3">3</span>
            <span data-page="4">4</span>
            <span data-page="next">&#8594;</span>
        </div>
    </div>
    <div class="footer">
        <div class="container">
            <div class="row">
                <div class="footer-col-1">
                    <h3>Useful Links</h3>
                    <ul>
                        <li>Coupons</li>
                        <li>Posts</li>
                        <li>Return Policy</li>
                        <li>Join Affiliate</li>
                    </ul>
                </div>
                <div class="footer-col-2">
                    <img src="images/footerlogo.png" >
                    <p>Our purpose is to make the most money.  To be able to sell <br>
                        prestige products so that our custumers will fondly enjoy.</p>

                </div>
                <div class="footer-col-3">
                    <h3>Follow US</h3>
                    <ul>
                        <li>Facebook</li>
                        <li>Twitter</li>
                        <li>Instagram</li>
                        <li>Youtube</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <script>
        const productData = [
          { name: "Loaf of Bread", price: 6.99, image: "images/bread.png" },
          { name: "Tennis Shoes", price: 42.99, image: "images/shoes.png" },
          { name: "Nintendo Switch", price: 299.99, image: "images/switch.png" },
          { name: "Colgate Toothpaste", price: 4.99, image: "images/toothpaste.png" },
          { name: "Headphones", price: 26.99, image: "images/headphones.png" },
          { name: "Kit-Kat Bar", price: 2.99, image: "images/kitkat.png" },
          { name: "Roller Blades", price: 19.99, image: "images/rollerblades.png" },
          { name: "Blue Shirt", price: 14.99, image: "images/shirt.png" },
          { name: "Rubik's Cube", price: 8.99, image: "images/cube.png" },
          { name: "Smart Phone", price: 449.99, image: "images/phone.png" },
          { name: "Light Up Sword", price: 9.99, image: "images/sword.png" },
          { name: "Smart TV", price: 244.99, image: "images/tv.png" }
        ];
      
        const container = document.querySelector(".small-container");
        const sortSelect = document.getElementById("sort-select");
        const searchInput = document.getElementById("search-input");
        const pagination = document.getElementById("pagination");
      
        let currentSort = "default";
        let currentPage = 1;
        const productsPerPage = 12;
      
        function getSortedProducts(products) {
          let sorted = [...products];
          switch (currentSort) {
            case "price":
              sorted.sort((a, b) => a.price - b.price);
              break;
            case "popularity":
              sorted.sort(() => 0.5 - Math.random()); // placeholder for actual popularity
              break;
            case "alphabet":
              sorted.sort((a, b) => a.name.localeCompare(b.name));
              break;
          }
          return sorted;
        }
      
        function renderPagination(filteredList) {
          const totalPages = Math.ceil(filteredList.length / productsPerPage);
          pagination.innerHTML = "";
      
          for (let i = 1; i <= totalPages; i++) {
            pagination.innerHTML += `<span data-page="${i}">${i}</span>`;
          }
      
          pagination.innerHTML += `<span data-page="next">&#8594;</span>`;
      
          [...pagination.children].forEach(btn => {
            if (parseInt(btn.dataset.page) === currentPage) {
              btn.style.background = "#000";
              btn.style.color = "#fff";
            } else {
              btn.style.background = "";
              btn.style.color = "";
            }
          });
        }
      
        function renderProducts(productList) {
          const rows = document.querySelectorAll(".small-container .row");
          rows.forEach(row => {
            if (!row.classList.contains("row-2") && !row.classList.contains("page-btn")) {
              row.remove();
            }
          });
      
          const start = (currentPage - 1) * productsPerPage;
          const paginated = productList.slice(start, start + productsPerPage);
      
          const pageInsertBefore = document.getElementById("pagination");
          for (let i = 0; i < paginated.length; i += 4) {
            const row = document.createElement("div");
            row.className = "row";
            for (let j = i; j < i + 4 && j < paginated.length; j++) {
              const p = paginated[j];
              row.innerHTML += `
                <a href="product-details.html">
                  <div class="col-4">
                    <img src="${p.image}">
                    <h4>${p.name}</h4>
                    <p>$${p.price.toFixed(2)}</p>
                  </div>
                </a>
              `;
            }
            container.insertBefore(row, pageInsertBefore);
          }
      
          renderPagination(productList);
        }
      
        function getFilteredProducts() {
          return productData.filter(p =>
            p.name.toLowerCase().includes(searchInput.value.toLowerCase())
          );
        }
      
        sortSelect.addEventListener("change", () => {
          currentSort = sortSelect.value;
          currentPage = 1;
          renderProducts(getSortedProducts(getFilteredProducts()));
        });
      
        searchInput.addEventListener("input", () => {
          currentPage = 1;
          renderProducts(getSortedProducts(getFilteredProducts()));
        });
      
        pagination.addEventListener("click", (e) => {
          const page = e.target.dataset.page;
          if (!page) return;
      
          const maxPage = Math.ceil(getFilteredProducts().length / productsPerPage);
      
          if (page === "next") {
            if (currentPage < maxPage) currentPage++;
          } else {
            currentPage = parseInt(page);
          }
      
          renderProducts(getSortedProducts(getFilteredProducts()));
        });
      
        // Initial render
        renderProducts(productData);
      </script>
      
      
</body>
</html>